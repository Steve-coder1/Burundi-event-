{% extends 'base_admin.html' %}
{% block content %}
<h1>Categories Management</h1>
<form method="post" class="card form-inline">
  <input type="text" name="name" placeholder="Category name" required>
  <select name="content_type">
    <option value="event">Event category</option>
    <option value="post">Post category</option>
  </select>
  <button class="btn" type="submit">Add Category</button>
</form>
<table>
  <thead><tr><th>Name</th><th>Type</th><th>Created</th><th>Actions</th></tr></thead>
  <tbody>
    {% for category in categories %}
      <tr>
        <td>{{ category.name }}</td>
        <td>{{ category.content_type }}</td>
        <td>{{ category.created_at.strftime('%Y-%m-%d') }}</td>
        <td>
          <form method="post" action="{{ url_for('delete_category', category_id=category.id) }}" class="inline" onsubmit="return confirm('Delete category?');">
            <button class="text-btn" type="submit">Delete</button>
          </form>
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
